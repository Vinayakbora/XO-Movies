<div class="row">

    <!-- Movie list -->
    <div class="column col-sm-12 scrollit" style="background-color: rgba(146, 157, 206, 0.644);">
      <p class="font-weight-bolder text-center" style="padding: 10px; font-size:xx-large; color :whitesmoke; background-color: black;">MY MOVIE LIBRARY</p>


      <span class="font-weight-bolder">Search : </span><input type="text" [(ngModel)]="query" >
      
      <br>

      <table class="table table-dark table-hover">
        <thead>
          <tr>
            <th>Name</th>
            <th>Genre</th>
            <th>Cast</th>
            <th>Duration</th>
            <th>Price</th>  
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
        <tr *ngFor="let product of productStock  | search:query">
          <td>{{product.name}}</td>
          <td>{{product.description}}</td>
          <td>{{product.cast}}</td>
          <td style="text-align: center;">{{product.hour}}h:{{product.minutes}}m</td>
          <td style="text-align: center;">{{product.price}}</td>
          <td><button class="btn btn-primary" #btn (click)="addTOCart(btn)" [id]="product.id"><span>Rent Movie</span></button></td>
        </tr>
        </tbody>
  
      </table>
  
      
      
    </div>
    
</div>

<div class="row">
    
  
    <!-- cart list -->
    <div class="column col-sm-12" style="background-color: rgb(146, 157, 206);">
  
      <p class="font-weight-bolder text-center" style="padding: 10px; font-size:xx-large;">MY CART</p>
  
      <!-- if block -->
      <div *ngIf="cartNotVisible; else elseBlock">
    
        <p style="padding: 10px; font-size: x-large; color: rgb(192, 14, 14); font-weight: bolder; text-align: center; ">Oops! Your Cart is Empty</p>
      </div>
  
      <!-- else block -->
      <ng-template #elseBlock>
      <table class="table table-dark table-hover">
        <thead>
        <tr>
          <th>Name</th>
          <th>Price</th>
          <th> No. of Days</th>
          <th>Action</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let product of cartArr">
          <td>{{product.name}}</td>
          <td style="text-align: center;">Rs.{{product.price}}</td>
          <td style="text-align: center"><button class="btn btn-outline-danger" #btnD (click)="decreaseProd(btnD)" [id]="product.id"> - </button>&nbsp;&nbsp;{{product.quantity}}&nbsp;&nbsp;<button class="btn btn-outline-primary" #btnI (click)="increaseProd(btnI)" [id]="product.id"> + </button>  </td>
          <td style="text-align: left;"><button class="btn btn-danger" #btn (click)="deleteFormCart(btn)" [id]="product.id">Delete</button></td>
        </tr>
        <br>
        <tr>
          <th>Discount</th>
          <th style="text-align: right; color: #dc3545;">- Rs. {{discount}}</th>
        </tr>
        <tr>
          <th>Total amount to be paid</th>
          <th style="text-align: right;">Rs. {{grandTotal}}</th>
          <th></th>
          <th><button class="btn btn-success" (click)="alertFunc()">Confirm Order</button></th>
        </tr>
      </tbody>
      </table>
  
      </ng-template>

      <div *ngIf="alertVisible" class="alert alert-success alert-dismissible">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <strong>Success!</strong> Your order has been confirmed.
      </div>
  
    </div>
</div>  


